{"version":3,"sources":["components/Aside/TopFriends/FriendItem/FriendItem.module.css","components/Profile/ProfileStatus/ProfileStatus.module.css","components/Header/Logo/Logo.module.css","Redux/appReducer.ts","components/common/FormsControls/FormsControls.tsx","utils/validators.ts","components/common/Search/Search.tsx","utils/objectHelpers.ts","Redux/usersReducer.ts","components/common/Search/search.module.css","components/Aside/Aside.module.css","components/Profile/Profile.module.css","assets/images/People.png","assets/images/Preloader.svg","components/common/Preloader/Preloader.module.css","assets/images/Information.png","assets/images/edit.png","assets/images/work.png","assets/images/OK.png","assets/images/noo.png","assets/images/facebook.png","assets/images/website.png","assets/images/github.png","assets/images/instagram.png","assets/images/mainLink.png","assets/images/twitter.jpg","assets/images/vk.png","assets/images/youtube.png","assets/images/contact.png","Redux/profileReducer.ts","components/Profile/MyPost/Post/Post.module.css","types/api-types.ts","assets/images/user.png","components/common/Preloader/Preloader.tsx","Redux/authReducer.ts","serviceWorker.js","components/Projects/ProjectItem/ProjectItem.tsx","components/Projects/Projects.tsx","components/Aside/Nav/Item/Item.tsx","components/Aside/Nav/Nav.tsx","components/Aside/ProfileCard/ProfileCard.tsx","components/Aside/TopFriends/FriendItem/FriendItem.tsx","components/Aside/TopFriends/TopFriends.tsx","components/Aside/Aside.tsx","Redux/asideReducer.ts","components/Aside/AsideContainer.tsx","components/Profile/ProfileStatus/ProfileStatus.tsx","components/Profile/Contacts/Contacts.tsx","components/Profile/MyPost/Post/Post.tsx","components/Profile/MyPost/MyPostForm/MyPostForm.tsx","components/Profile/MyPost/MyPost.tsx","Redux/profileSelector.ts","components/Profile/MyPost/MyPostContainer.tsx","components/common/ModalWindow/ModalWindow.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Logo/Logo.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","Redux/projectsReducer.ts","Redux/reduxStore.ts","hoc/withSuspense.tsx","App.js","index.js","components/common/FormsControls/FormsControls.module.css","components/common/ModalWindow/ModalWindow.module.css","components/Header/Header.module.css","Redux/dialogReducer.ts","components/Projects/Projects.module.css","components/Projects/ProjectItem/ProjectItem.module.css","components/Aside/Nav/Item/Item.module.css","components/Aside/ProfileCard/ProfileCard.module.css","components/Aside/TopFriends/TopFriends.module.css","components/Profile/MyPost/MyPost.module.css","api/api.ts"],"names":["module","exports","initialState","initialized","isFetching","isUpload","globalError","isSuccess","toggleIsFetching","type","uploadInProgress","setGlobalError","toggleIsSuccess","payload","initializeApp","dispatch","a","promise","auth","Promise","all","then","appReducer","state","action","Input","input","meta","customClassName","props","hasError","error","touched","className","style","description","Textarea","descriptionTextarea","required","values","maxLength","Length","length","email","value","test","undefined","ReduxSearchForm","reduxForm","form","handleSubmit","placeholder","search","onSubmit","component","name","updateObjectInArray","items","itemId","objPropName","newObjProps","map","item","UN_FOLLOW","FOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","usersData","count","currentPage","startPage","totalCount","followingInProgress","followSuccess","userId","unFollowSuccess","setUsers","users","setCurrentPage","toggleFollowingProgress","getUsers","usersAPI","data","searchUsers","userName","followUnfollowFlow","apiMethod","actionCreator","ResultCodesEnum","Success","follow","bind","unFollow","usersReducer","followed","filter","id","ADD_POST","SET_USER_PROFILE","SET_PROFILE_STATUS","DELETE_POST","INCREMENTED_LIKE","postData","date","likeCount","postText","profile","status","isUpdateSuccess","addPost","post","deletePost","postId","incrementedLike","setProfileStatus","uploadProfilePhotoSuccess","photos","updateProfileDataSuccess","getUserProfile","profileAPI","getProfileStatus","updateProfileStatus","uploadProfilePhoto","photoFile","getState","setProfileData","login","updateProfileData","profileData","response","resultCode","getOwnerProfileData","errorItems","messages","message","start","indexOf","slice","toLowerCase","errors","forEach","stopSubmit","profileReducer","newPost","ResultCodesForCaptchaEnum","Preloader","preloader","src","PreloaderSvg","SET_USER_DATA","SET_CAPTCHA_URL","isAuth","captchaURL","setUserData","setCaptchaUrl","fullName","authAPI","authMe","formData","password","rememberMe","captcha","IsCaptcha","getCaptchaUrl","_error","logout","securityAPI","url","authReducer","Boolean","window","location","hostname","match","ProjectItem","project","technologies","btn","href","link","logo","alt","connect","projects","container","Search","wrapper","projectsList","Item","to","activeClassName","activeLink","item_link","icon","Nav","nav","navbar","ProfileCard","avatar","card","profileAvatar","defaultAvatar","followers","followersIcon","FriendItem","online","title","TopFriends","this","getFriends","friends","friend","key","small","Component","Aside","aside","SET_FRIENDS","asideReducer","AsideContainer","Math","ceil","ProfileStatus","useState","editMode","setEditMode","setStatus","useEffect","isMyProfile","onChange","e","target","onBlur","autoFocus","myProfile","onClick","Contacts","contacts","ContactElements","Img","contact","console","log","facebook","website","github","instagram","mainLink","youtube","vk","twitter","alert","push","contactsIcons","Post","s","info","postWraper","postContent","delete","activity","like","maxLength50","Field","validate","MyPost","React","memo","postElements","inputField","getPosts","MyPostContainer","ModalWindow","modalTitle","children","footerDescription","hideModalWindow","modalOverlay","modalWindow","modalHeader","closeBtn","modalBody","modalFooter","Profile","startDialogs","isModal","setIsModal","modalDescription","inputFile","files","avatarContainer","avatarMenu","large","userAvatar","personal_information","information","edit","aboutMe","work","lookingForAJob","ok","lookingForAJobDescription","noo","ProfileContainer","params","myId","toggleIsMyProfile","setState","loadProfile","history","prevProps","prevState","compose","app","withRouter","Logo","logo_name","Header","header","headerContainer","preventDefault","HeaderContainer","projectsReducer","rootReducer","combineReducers","dialogs","dialogReducer","people","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","DialogsContainer","lazy","Login","People","Edit","App","catchAllUnhandledErrors","promiseRejectionEvent","addEventListener","removeEventListener","Modal","path","render","MainApp","AppContainer","exact","PortfolioApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","ADD_MESSAGE","SET_DIALOGS","SET_MESSAGES","addMessage","messageText","dialogsAPI","startDialog","getDialogs","getMessages","newMessage","user","instance","axios","create","withCredentials","baseURL","headers","get","put","FormData","append"],"mappings":"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","file":"static/js/main.306f9137.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"FriendItem_item__lcuh4\",\"online\":\"FriendItem_online__mSLPK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"ProfileStatus_status__3ddZo\",\"myProfile\":\"ProfileStatus_myProfile__3GpLr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"Logo_logo__3ZOP_\",\"logo_name\":\"Logo_logo_name___UZsi\"};","import {auth} from \"./authReducer\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStateType} from \"./reduxStore\";\r\n\r\nconst INITIALIZED_SUCCESS = 'portfolio/app/INITIALIZED_SUCCESS';\r\nconst TOGGLE_IS_FETCHING = 'portfolio/app/TOGGLE-IS-FETCHING';\r\nconst UPLOAD_IN_PROGRESS = 'portfolio/app/UPLOAD_IN_PROGRESS';\r\nconst SET_GLOBAL_ERROR = 'portfolio/app/SET_GLOBAL_ERROR';\r\nconst TOGGLE_IS_SUCCESS = 'portfolio/app/TOGGLE_IS_SUCCESS';\r\n\r\ntype InitialStateType = {\r\n    initialized: boolean,\r\n    isFetching: boolean,\r\n    isUpload: boolean,\r\n    globalError: any,\r\n    isSuccess: boolean\r\n}\r\n\r\nlet initialState: InitialStateType = {\r\n    initialized: false,\r\n    isFetching: false,\r\n    isUpload: false,\r\n    globalError: null,\r\n    isSuccess: false\r\n};\r\n\r\ntype ActionsTypes = IntialezedSuccessActionType | ToggleIsFetchingActionType | UploadInProgressActionType\r\n    | SetGlobalErrorActionType | ToggleIsSuccessActionType;\r\n\r\nconst appReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case UPLOAD_IN_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                isUpload: action.isUpload\r\n            }\r\n        }\r\n        case SET_GLOBAL_ERROR: {\r\n            return {\r\n                ...state,\r\n                globalError: action.globalError\r\n            }\r\n        }\r\n        case TOGGLE_IS_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//actions\r\n\r\ntype IntialezedSuccessActionType = {\r\n    type: typeof INITIALIZED_SUCCESS;\r\n}\r\n\r\nconst intialezedSuccess = (): IntialezedSuccessActionType => {\r\n    return {\r\n        type: INITIALIZED_SUCCESS\r\n    }\r\n};\r\n\r\nexport type ToggleIsFetchingActionType = {\r\n    type: typeof TOGGLE_IS_FETCHING,\r\n    isFetching: boolean\r\n}\r\n\r\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingActionType => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    }\r\n};\r\n\r\nexport type UploadInProgressActionType = {\r\n    type: typeof UPLOAD_IN_PROGRESS,\r\n    isUpload: boolean\r\n}\r\n\r\nexport const uploadInProgress = (isUpload: boolean): UploadInProgressActionType => {\r\n    return {\r\n        type: UPLOAD_IN_PROGRESS,\r\n        isUpload\r\n    }\r\n};\r\n\r\ntype SetGlobalErrorActionType = {\r\n    type: typeof SET_GLOBAL_ERROR,\r\n    globalError: any\r\n}\r\n\r\nexport const setGlobalError = (globalError: any): SetGlobalErrorActionType => {\r\n    return {\r\n        type: SET_GLOBAL_ERROR,\r\n        globalError\r\n    }\r\n};\r\n\r\nexport type ToggleIsSuccessActionType = {\r\n    type: typeof TOGGLE_IS_SUCCESS,\r\n    payload: {\r\n        isSuccess: boolean\r\n    }\r\n}\r\n\r\nexport const toggleIsSuccess = (isSuccess: boolean): ToggleIsSuccessActionType => {\r\n    return {\r\n        type: TOGGLE_IS_SUCCESS,\r\n        payload: {\r\n            isSuccess\r\n        }\r\n    }\r\n};\r\n\r\n// thunks\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionsTypes>;\r\n\r\nexport const initializeApp = (): ThunkType => async (dispatch) => {\r\n    let promise = dispatch(auth());\r\n\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(intialezedSuccess());\r\n    })\r\n};\r\n\r\nexport default appReducer;","import React, {FC} from 'react';\r\nimport style from './FormsControls.module.css';\r\nimport {WrappedFieldProps} from \"redux-form\";\r\n\r\ntype PropsType = {\r\n    customClassName: string\r\n}\r\n\r\nexport const Input: FC<PropsType & WrappedFieldProps> = ({input, meta, customClassName, ...props}) => {\r\n    let hasError = meta.error && meta.touched;\r\n\r\n    return (\r\n        <div className={hasError ? style.error : ''}>\r\n            {hasError && <div className={style.description + ' ' + style[customClassName]}>{meta.error}</div>}\r\n            <input  {...props} {...input}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const Textarea: FC<PropsType & WrappedFieldProps> = ({input, meta, customClassName,  ...props}) => {\r\n    let hasError = meta.error && meta.touched;\r\n    return (\r\n        <div className={hasError ? style.error : ''}>\r\n            {hasError && <div className={style.descriptionTextarea + ' ' + style[customClassName]}>{meta.error}</div>}\r\n            <textarea  {...props} {...input}/>\r\n        </div>\r\n    )\r\n};","export const required = (values: string) => {\r\n    if (values) {\r\n        return undefined\r\n    }\r\n    return 'This field required!'\r\n};\r\n\r\nexport const maxLength = (Length: number) => (values: string) => {\r\n    if (values && values.length >= Length) {\r\n        return `Max length is ${Length} symbols`;\r\n    }\r\n    return undefined;\r\n};\r\nexport const email = (value: string) => {\r\n    return value && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)\r\n        ? 'Invalid email address'\r\n        : undefined;\r\n};\r\n","import React, {FC} from 'react';\r\nimport style from \"./search.module.css\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\n\r\ntype PropsType = {\r\n    placeholder: string\r\n}\r\n\r\ntype FormDataType = {\r\n    search: string\r\n}\r\n\r\nlet SearchForm: FC<any & InjectedFormProps<FormDataType, PropsType>> = ({handleSubmit, placeholder}) => {\r\n    return (\r\n        <form className={style.search} onSubmit={handleSubmit}>\r\n            <Field component={'input'} placeholder={placeholder} type=\"text\" name='search'/>\r\n            <button>Search</button>\r\n        </form>\r\n    );\r\n};\r\n\r\nlet ReduxSearchForm = reduxForm<FormDataType, PropsType>({form: 'search'})(SearchForm);\r\n\r\nexport default ReduxSearchForm;","export const updateObjectInArray = (items:Array<any>, itemId: number, objPropName: any, newObjProps: any) => {\r\n     return items.map((item) => {\r\n        if (itemId === item[objPropName]) {\r\n            return {...item, ...newObjProps};\r\n        } else {\r\n            return item;\r\n        }\r\n    })\r\n};\r\n\r\n\r\n\r\n","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/objectHelpers\";\r\nimport {toggleIsFetching, ToggleIsFetchingActionType} from \"./appReducer\";\r\nimport {UserType} from \"../types/types\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStateType} from \"./reduxStore\";\r\nimport {Dispatch} from \"redux\";\r\nimport {ResultCodesEnum} from \"../types/api-types\";\r\n\r\nconst UN_FOLLOW = 'portfolio/users/UN-FOLLOW';\r\nconst FOLLOW = 'portfolio/users/FOLLOW';\r\nconst SET_USERS = 'portfolio/users/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'portfolio/users/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_COUNT = 'portfolio/users/SET-TOTAL-COUNT';\r\nconst TOGGLE_FOLLOWING_PROGRESS = 'portfolio/users/TOGGLE_FOLLOWING_PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n    usersData: [] as Array<UserType>,\r\n    count: 6,\r\n    currentPage: 1,\r\n    startPage: 1,\r\n    totalCount: 0,\r\n    followingInProgress: [] as Array<number> //Array of user ids\r\n};\r\n\r\ntype InitialStateType = typeof initialState;\r\n\r\ntype ActionsTypes = FollowSuccessActionType | UnFollowSuccessActionType | SetUsersActionType | SetCurrentPageActionType\r\n    | SetTotalCountActionType | ToggleFollowingProgressActionType;\r\n\r\nconst usersReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                usersData: updateObjectInArray(state.usersData, action.userId, 'id', {followed: true})\r\n            };\r\n        case UN_FOLLOW:\r\n            return {\r\n                ...state,\r\n                usersData: updateObjectInArray(state.usersData, action.userId, 'id', {followed: false})\r\n            };\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                usersData: [...action.usersData]\r\n            };\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            };\r\n        }\r\n        case SET_TOTAL_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalCount: action.totalCount\r\n            }\r\n        }\r\n        case TOGGLE_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// actions\r\n\r\ntype FollowSuccessActionType = {\r\n    type: typeof FOLLOW,\r\n    userId: number\r\n}\r\n\r\n\r\nexport const followSuccess = (userId: number): FollowSuccessActionType => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId: userId\r\n    };\r\n};\r\n\r\ntype UnFollowSuccessActionType = {\r\n    type: typeof UN_FOLLOW,\r\n    userId: number\r\n}\r\n\r\nexport const unFollowSuccess = (userId: number): UnFollowSuccessActionType => {\r\n    return {\r\n        type: UN_FOLLOW,\r\n        userId: userId\r\n    };\r\n};\r\n\r\ntype SetUsersActionType = {\r\n    type: typeof SET_USERS,\r\n    usersData: Array<UserType>\r\n}\r\n\r\nexport const setUsers = (users: Array<UserType>): SetUsersActionType => {\r\n    return {\r\n        type: SET_USERS,\r\n        usersData: users\r\n    };\r\n};\r\n\r\ntype SetCurrentPageActionType = {\r\n    type: typeof SET_CURRENT_PAGE,\r\n    currentPage: number\r\n}\r\n\r\nexport const setCurrentPage = (currentPage: number): SetCurrentPageActionType => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        currentPage: currentPage\r\n    }\r\n};\r\n\r\ntype SetTotalCountActionType = {\r\n    type: typeof SET_TOTAL_COUNT,\r\n    totalCount: number\r\n}\r\n\r\nexport const setTotalCount = (totalCount: number): SetTotalCountActionType => {\r\n    return {\r\n        type: SET_TOTAL_COUNT,\r\n        totalCount: totalCount\r\n    }\r\n};\r\n\r\ntype ToggleFollowingProgressActionType = {\r\n    type: typeof TOGGLE_FOLLOWING_PROGRESS,\r\n    isFetching: boolean,\r\n    userId: number\r\n}\r\n\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: number): ToggleFollowingProgressActionType => {\r\n    return {\r\n        type: TOGGLE_FOLLOWING_PROGRESS,\r\n        isFetching,\r\n        userId\r\n    }\r\n};\r\n\r\n//thunks\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionsTypes | ToggleIsFetchingActionType>;\r\n\r\nexport const getUsers = (count: number, currentPage: number): ThunkType => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    let data = await usersAPI.getUsers(count, currentPage);\r\n\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalCount(data.totalCount));\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setCurrentPage(currentPage));\r\n};\r\n\r\nexport const searchUsers = (userName: string): ThunkType => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    let data = await usersAPI.searchUsers(userName);\r\n\r\n    dispatch(setUsers(data.items));\r\n    dispatch(toggleIsFetching(false));\r\n};\r\n\r\ntype  FlowActionsTypes = FollowSuccessActionType | UnFollowSuccessActionType;\r\n\r\nconst followUnfollowFlow = async (apiMethod: (userId: number) => Promise<number>,\r\n                                  dispatch: Dispatch<ActionsTypes>, userId: number,\r\n                                  actionCreator: (userId: number) => FlowActionsTypes) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let resultCode = await apiMethod(userId);\r\n\r\n    if (resultCode === ResultCodesEnum.Success) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId: number): ThunkType => async (dispatch) => {\r\n    followUnfollowFlow(usersAPI.follow.bind(usersAPI), dispatch, userId, followSuccess);\r\n};\r\nexport const unFollow = (userId: number) => (dispatch: any) => {\r\n    followUnfollowFlow(usersAPI.unFollow.bind(usersAPI), dispatch, userId, unFollowSuccess);\r\n};\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"search_search__NwvS4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Aside_aside__tbxvS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Profile_wrapper__3lDxu\",\"avatarContainer\":\"Profile_avatarContainer__1QPOW\",\"avatarMenu\":\"Profile_avatarMenu__3cDae\",\"avatar\":\"Profile_avatar__ce8Vo\",\"info\":\"Profile_info__1KL_o\",\"contactsIcons\":\"Profile_contactsIcons__2g-T9\",\"modalDescription\":\"Profile_modalDescription__1YGQ5\",\"inputFile\":\"Profile_inputFile__3HpEW\",\"edit\":\"Profile_edit__fmrI-\",\"personal_information\":\"Profile_personal_information__1-rsl\",\"btn\":\"Profile_btn__2EM_I\"};","module.exports = __webpack_public_path__ + \"static/media/People.838100bd.png\";","module.exports = __webpack_public_path__ + \"static/media/Preloader.0448b521.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2_Wsh\"};","module.exports = __webpack_public_path__ + \"static/media/Information.8e95f5e0.png\";","module.exports = __webpack_public_path__ + \"static/media/edit.7ee6892c.png\";","module.exports = __webpack_public_path__ + \"static/media/work.365e3d88.png\";","module.exports = __webpack_public_path__ + \"static/media/OK.adadb3f3.png\";","module.exports = __webpack_public_path__ + \"static/media/noo.4c96c30c.png\";","module.exports = __webpack_public_path__ + \"static/media/facebook.cc511d06.png\";","module.exports = __webpack_public_path__ + \"static/media/website.4a98d2dd.png\";","module.exports = __webpack_public_path__ + \"static/media/github.11eef375.png\";","module.exports = __webpack_public_path__ + \"static/media/instagram.69473a1d.png\";","module.exports = __webpack_public_path__ + \"static/media/mainLink.92c0cb67.png\";","module.exports = __webpack_public_path__ + \"static/media/twitter.df2d2a7f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/vk.b8e29857.png\";","module.exports = __webpack_public_path__ + \"static/media/youtube.9c17ba57.png\";","module.exports = __webpack_public_path__ + \"static/media/contact.45d907c1.png\";","import {profileAPI} from \"../api/api\";\r\nimport {\r\n    toggleIsFetching,\r\n    ToggleIsFetchingActionType,\r\n    ToggleIsSuccessActionType,\r\n    uploadInProgress,\r\n    UploadInProgressActionType\r\n} from \"./appReducer\";\r\nimport {getOwnerProfileData, setProfileData, SetProfileDataActionType} from \"./authReducer\";\r\nimport {FormAction, stopSubmit} from \"redux-form\";\r\nimport {PhotosType, PostType, ProfileType} from \"../types/types\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStateType} from \"./reduxStore\";\r\nimport {ResultCodesEnum} from \"../types/api-types\";\r\n\r\nconst ADD_POST = 'portfolio/profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'portfolio/profile/SET-USER-PROFILE';\r\nconst SET_PROFILE_STATUS = 'portfolio/profile/SET_PROFILE_STATUS';\r\nconst DELETE_POST = 'portfolio/profile/DELETE_POST';\r\nconst INCREMENTED_LIKE = 'portfolio/profile/INCREMENTED_LIKE';\r\nconst UPLOAD_PROFILE_PHOTO_SUCCESS = 'portfolio/profile/UPLOAD_PROFILE_PHOTO_SUCCESS';\r\nconst UPDATE_PROFILE_DATA_SUCCESS = 'portfolio/profile/UPDATE_PROFILE_DATA_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    postData: [\r\n        {\r\n            id: 3,\r\n            date: '10/20/2019',\r\n            likeCount: 15,\r\n            postText: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut\\n' +\r\n                'labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco\\n' +\r\n                'laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in\\n' +\r\n                'voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat\\n' +\r\n                'non proident, sunt in culpa qui officia deserunt mollit anim id est laborum'\r\n        },\r\n        {\r\n            id: 2,\r\n            date: '10/20/2019',\r\n            likeCount: 54,\r\n            postText: 'I learn React JS'\r\n        },\r\n        {\r\n            id: 1,\r\n            date: '10/20/2019',\r\n            likeCount: 24,\r\n            postText: \"It'style my first post\"\r\n\r\n        }\r\n    ] as Array<PostType>,\r\n    profile: null as ProfileType | null,\r\n    status: '' as string,\r\n    followed: true,\r\n    isUpdateSuccess: false\r\n};\r\n\r\ntype InitialStateType = typeof initialState;\r\n\r\ntype ActionsTypes = AddPostActionType | DeletePostActionType | IncrementedLikeActionType | SetUserProfileActionType\r\n    | SetProfileStatusActionType | UploadProfilePhotoSuccessActionType | UpdateProfileDataSuccessActionType\r\n\r\nconst profileReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: state.postData[0].id + 1,\r\n                date: '10/21/2019',\r\n                likeCount: 0,\r\n                postText: action.post\r\n            };\r\n            return {\r\n                ...state,\r\n                postData: [newPost, ...state.postData],\r\n            };\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n\r\n            }\r\n        }\r\n        case SET_PROFILE_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                postData: state.postData.filter((post) => post.id != action.postId)\r\n            }\r\n        }\r\n        case INCREMENTED_LIKE: {\r\n            return {\r\n                ...state,\r\n                postData: state.postData.map((post) => {\r\n                    if (post.id == action.postId) {\r\n                        return {...post, likeCount: post.likeCount + 1};\r\n                    } else {\r\n                        return post;\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        case UPLOAD_PROFILE_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    photos: {\r\n                        ...action.photos\r\n                    }\r\n                } as ProfileType\r\n            }\r\n        }\r\n        case UPDATE_PROFILE_DATA_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                isUpdateSuccess: action.isUpdateSuccess\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// actions\r\n\r\ntype AddPostActionType = {\r\n    type: typeof ADD_POST,\r\n    post: string\r\n}\r\n\r\nexport const addPost = (post: string): AddPostActionType => ({type: ADD_POST, post});\r\n\r\n\r\ntype DeletePostActionType = {\r\n    type: typeof DELETE_POST,\r\n    postId: number\r\n}\r\n\r\nexport const deletePost = (postId: number): DeletePostActionType => ({\r\n    type: DELETE_POST,\r\n    postId\r\n});\r\n\r\ntype IncrementedLikeActionType = {\r\n    type: typeof INCREMENTED_LIKE,\r\n    postId: number\r\n}\r\n\r\nexport const incrementedLike = (postId: number): IncrementedLikeActionType => {\r\n    return {\r\n        type: INCREMENTED_LIKE,\r\n        postId\r\n    }\r\n};\r\n\r\ntype SetUserProfileActionType = {\r\n    type: typeof SET_USER_PROFILE,\r\n    profile: ProfileType\r\n}\r\n\r\nexport const setUserProfile = (profile: ProfileType): SetUserProfileActionType => {\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        profile\r\n    }\r\n};\r\n\r\ntype SetProfileStatusActionType = {\r\n    type: typeof SET_PROFILE_STATUS,\r\n    status: string\r\n}\r\n\r\nconst setProfileStatus = (status: string): SetProfileStatusActionType => {\r\n    return {\r\n        type: SET_PROFILE_STATUS,\r\n        status\r\n    }\r\n};\r\n\r\ntype UploadProfilePhotoSuccessActionType = {\r\n    type: typeof UPLOAD_PROFILE_PHOTO_SUCCESS,\r\n    photos: PhotosType\r\n}\r\n\r\nconst uploadProfilePhotoSuccess = (photos: PhotosType): UploadProfilePhotoSuccessActionType => {\r\n    return {\r\n        type: UPLOAD_PROFILE_PHOTO_SUCCESS,\r\n        photos\r\n    }\r\n};\r\n\r\ntype UpdateProfileDataSuccessActionType = {\r\n    type: typeof UPDATE_PROFILE_DATA_SUCCESS,\r\n    isUpdateSuccess: boolean\r\n}\r\n\r\nexport const updateProfileDataSuccess = (isUpdateSuccess: boolean): UpdateProfileDataSuccessActionType => {\r\n    return {\r\n        type: UPDATE_PROFILE_DATA_SUCCESS,\r\n        isUpdateSuccess\r\n    }\r\n};\r\n\r\n// thunks\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionsTypes | ToggleIsFetchingActionType\r\n    | ToggleIsSuccessActionType | UploadInProgressActionType | SetProfileDataActionType | FormAction>;\r\n\r\nexport const getUserProfile = (userId: number): ThunkType => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    let data = await profileAPI.getUserProfile(userId);\r\n    dispatch(setUserProfile(data));\r\n    dispatch(toggleIsFetching(false));\r\n};\r\n\r\nexport const getProfileStatus = (userId: number): ThunkType => async (dispatch) => {\r\n    let status = await profileAPI.getProfileStatus(userId);\r\n\r\n    dispatch(setProfileStatus(status));\r\n};\r\nexport const updateProfileStatus = (status: string): ThunkType => async (dispatch) => {\r\n    let resultCode = await profileAPI.updateProfileStatus(status);\r\n\r\n    if (resultCode === ResultCodesEnum.Success) {\r\n        dispatch(setProfileStatus(status));\r\n    }\r\n};\r\n\r\nexport const uploadProfilePhoto = (photoFile: any): ThunkType => async (dispatch, getState) => {\r\n    dispatch(uploadInProgress(true));\r\n    let photos = await profileAPI.uploadProfilePhoto((photoFile));\r\n\r\n    dispatch(uploadProfilePhotoSuccess(photos));\r\n    dispatch(setProfileData(photos, getState().auth.login));\r\n    dispatch(uploadInProgress(false));\r\n};\r\n\r\nexport const updateProfileData = (profileData: ProfileType): ThunkType => async (dispatch, getState) => {\r\n    dispatch(updateProfileDataSuccess(false));\r\n    let response = await profileAPI.updateProfileData(profileData);\r\n\r\n    if (response.resultCode === ResultCodesEnum.Success) {\r\n        let userId = getState().auth.userId;\r\n\r\n        if (userId) dispatch(getOwnerProfileData(userId));\r\n\r\n        dispatch(updateProfileDataSuccess(true));\r\n    } else {\r\n        let errorItems = response.messages.map((message: any) => {\r\n            let start = message.indexOf('>') + 1;\r\n            let item = message.slice(start, message.indexOf(')', start));\r\n            return item[0].toLowerCase() + item.slice(1);\r\n        });\r\n\r\n        type Errors = {\r\n            contacts: any\r\n        }\r\n\r\n        let errors: Errors = {\"contacts\": {}};\r\n\r\n        errorItems.forEach((item: string) => {\r\n            errors[\"contacts\"][item] = 'Invalid url format';\r\n        });\r\n        dispatch(stopSubmit('edit', errors));\r\n    }\r\n};\r\n\r\nexport default profileReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__3Mbxj\",\"avatar\":\"Post_avatar__19CVg\",\"postWraper\":\"Post_postWraper__9jqzv\",\"postContent\":\"Post_postContent__1GX36\",\"delete\":\"Post_delete__15WRD\",\"info\":\"Post_info__2Dgk-\",\"like\":\"Post_like__3Q2nv\",\"description\":\"Post_description__23Oe1\",\"activity\":\"Post_activity__1eGNt\",\"postText\":\"Post_postText__20vWG\"};","import {PhotosType, UserType} from \"./types\";\r\n\r\nexport enum ResultCodesEnum {\r\n    Success = 0,\r\n    Error = 1\r\n}\r\n\r\nexport enum ResultCodesForCaptchaEnum {\r\n    IsCaptcha = 10\r\n}\r\n\r\nexport type BaseResponseType<D> = {\r\n    resultCode: ResultCodesEnum\r\n    messages: Array<string>\r\n    data: D\r\n}\r\n\r\nexport type UsersResponseType =  {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string\r\n}\r\n\r\nexport type ProfilePhotoResponseType = {\r\n    photos: PhotosType\r\n}\r\n\r\nexport type AuthMeResponseType = {\r\n    id: number\r\n    email: string\r\n    login: string\r\n};\r\n\r\nexport type LoginResponseType = {\r\n    resultCode: ResultCodesEnum | ResultCodesForCaptchaEnum\r\n    messages: Array<string>\r\n    data: {\r\n        userId: string\r\n    }\r\n}\r\n\r\nexport type CaptchaResponseType = {\r\n    url: string\r\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQAgMAAAD90d5fAAAACVBMVEXr6+ssPlA2R1nMBliUAAADw0lEQVR42u2cQa7cIBBETSSOwH04Qi+o+2WdU0bJV9SR5s8MjSm7YfqtkZ6bsrGNDUcQBEEQBEEQBEEQBEEQBEEQPCXji3rwKPiHHArJoRaGg25JUDQXkkMtRIcyXVLwiBALUYiFKEIsRCEWogixEIVQCLUUgF9KxnMqr7eURoxdIfQWLXq8pBF7SyH0Fqm/AH5/JbyD0FuU67EA/FDwHmIkSuVFoggvEqURI1GIkSiVF4kipyPhh4ILJAl9ECNR6slI+MkD/FASevEuyQA/+YJe5JSEnzwukCT0c0bCTz5fISnoR05I+MnjAkmCBc+SDAvVsaTAggxL+KcXdpEk2PArybBRt5HIiKRsI4GR5lWSYOWjJRlW6jYS+WRJCYkFmGkh4Q5eKSRbSOrnSnJIQuJKIiEJSUhCsuDYFZKQhCQkK74EfbDkcCrZZ27Fq6T4lHidg9xn8tnpBwGvkn0+N9klXr8z2iVuv/2aJW6/x1/yZ0HyKPH7S8k+v/kcxZ9ExiTZn6Q6/nvQJvH8R+dRvEnE9f/CyZvkGMaZpDlfIXDJWofkS+J9JU138uJ+dVNvKP5XnHWG0hZYBZj6cl9gZWZXKG2J1bKpJ5IlVjB3hCKLrCp/H8oqK/3f9pcss/uCYR8J2kksC+3tceAFban9Vl6VstgeOM+jX21foo4dlniltAV3vToy8RpRnnfWYnuqPWYvBwNmZymvHSvtPfj/LopBcA7DSZTq8Pkq/W3boARohrZ1+MIzDNFjpVhGjzw4CmTLMDg6ZFoGqaRtR4ZCMYzObfjeYWlcR+/o1XADkNHbUzNUjeE7raFqVGvs/aUUbTv8+GN5IBt+kBPSrsMZ/2M4oDa+XbGh7fjDteERuQ6/Jkh3IWjjr1W1/7XlxKvI/PeJhAekt2bImTe33pbNHonSPR1ij0RpvUdT7ZEobeo+0Bl9lq5m9imhiXM6XTNouaORMRKlvW8j9kjsNEMk4xgiGafaI7EjvEiMzzf8UIALQgH4oSSqRHPnJ18AfvKYQr1fkjAF4eWuNGLuyv0SgJ98wiTEIKEkn6kSzZ2fPKZR75UkTEMMEkLy+QpJwTzulWAi9U5JwkSEd3Ip7U5JwUzulGAq9T5JwlSkQ0I6vfKCEnwrKdtIMJl6lyRhMnKXJGMy7S5JwWz2kdRHCdaUyD2StKikPUjyNpKC+WwsAYF6hySBgITkzNWYAawpwR2SAgAh6b3k8YeQdEoSKEhIxiUZFFpITHw3dIXkAyR1Twm+CMlTZEtJwhch6ZL8+EXi5/GX3/7KyzZmCAVwAAAAAElFTkSuQmCC\"","import React, {FC} from 'react';\r\nimport PreloaderSvg from '../../../assets/images/Preloader.svg';\r\nimport style from './Preloader.module.css';\r\n\r\nconst Preloader: FC = () => {\r\n    return(\r\n        <div className={style.preloader}>\r\n            <img  src={PreloaderSvg}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Preloader;","import {authAPI, profileAPI, securityAPI} from \"../api/api\";\r\nimport {toggleIsFetching, ToggleIsFetchingActionType} from \"./appReducer\";\r\nimport {FormAction, stopSubmit} from \"redux-form\";\r\nimport {PhotosType} from \"../types/types\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStateType} from \"./reduxStore\";\r\nimport {ResultCodesEnum, ResultCodesForCaptchaEnum} from \"../types/api-types\";\r\n\r\nconst SET_USER_DATA = 'portfolio/auth/SET_USER_DATA';\r\nconst SET_PROFILE_DATA = 'portfolio/auth/SET_PROFILE_DATA';\r\nconst SET_CAPTCHA_URL = 'portfolio/auth/SET_CAPTCHA_URL';\r\n\r\nlet initialState = {\r\n    userId: null as number | null,\r\n    login: null as string | null,\r\n    email: null as string | null,\r\n    isAuth: false,\r\n    photos: {} as PhotosType,\r\n    captchaURL: null as string | null\r\n};\r\n\r\ntype InitialStateType = typeof initialState;\r\n\r\ntype ActionsTypes = SetUserDataActionType | SetProfileDataActionType | SetCaptchaUrlActionType;\r\n\r\nconst authReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            };\r\n        case SET_PROFILE_DATA:\r\n            return {\r\n                ...state,\r\n                login: action.login,\r\n                photos: {...action.photos}\r\n            };\r\n        case SET_CAPTCHA_URL:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//actions\r\n\r\ntype SetUserDataActionType = {\r\n    type: typeof SET_USER_DATA,\r\n    data: {\r\n        userId: number | null,\r\n        login: string | null,\r\n        email: string | null,\r\n        isAuth: boolean\r\n    }\r\n}\r\n\r\nconst setUserData = (userId: number | null, login: string | null, email: string | null, isAuth: boolean): SetUserDataActionType => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        data: {\r\n            userId,\r\n            login,\r\n            email,\r\n            isAuth\r\n        }\r\n    }\r\n};\r\n\r\nexport type SetProfileDataActionType = {\r\n    type: typeof SET_PROFILE_DATA,\r\n    photos: PhotosType,\r\n    login: string | null\r\n}\r\n\r\nexport const setProfileData = (photos: any, login: string | null): SetProfileDataActionType => {\r\n    return {\r\n        type: SET_PROFILE_DATA,\r\n        photos,\r\n        login\r\n    }\r\n};\r\n\r\ntype SetCaptchaUrlActionType = {\r\n    type: typeof SET_CAPTCHA_URL,\r\n    payload: {\r\n        captchaURL: string | null\r\n    }\r\n}\r\n\r\nexport const setCaptchaUrl = (captchaURL: string | null): SetCaptchaUrlActionType => {\r\n    return {\r\n        type: SET_CAPTCHA_URL,\r\n        payload: {\r\n            captchaURL\r\n        }\r\n    }\r\n};\r\n\r\n// thunks\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionsTypes | ToggleIsFetchingActionType | FormAction>;\r\n\r\nexport const getOwnerProfileData = (userId: number): ThunkType => async (dispatch) => {\r\n    let data = await profileAPI.getUserProfile(userId);\r\n\r\n    dispatch(setProfileData(data.photos, data.fullName));\r\n};\r\n\r\n\r\nexport const auth = (): ThunkType => async (dispatch) => {\r\n    let data = await authAPI.authMe();\r\n\r\n    if (data.resultCode === ResultCodesEnum.Success) {\r\n        let {id, login, email} = data.data;\r\n\r\n        dispatch(getOwnerProfileData(id));\r\n        dispatch(setUserData(id, login, email, true));\r\n    }\r\n};\r\n\r\nexport const login = (formData: any): ThunkType => async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        let data = await authAPI.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n\r\n        if (data.resultCode === ResultCodesEnum.Success) {\r\n            dispatch(auth());\r\n        } else {\r\n            if (data.resultCode === ResultCodesForCaptchaEnum.IsCaptcha) {\r\n                dispatch(getCaptchaUrl());\r\n            } else {\r\n                let message = data.messages ? data.messages : 'Some error';\r\n\r\n                dispatch(stopSubmit('login', {_error: message}));\r\n            }\r\n        }\r\n        dispatch(setCaptchaUrl(null));\r\n        dispatch(toggleIsFetching(false));\r\n    }\r\n;\r\n\r\nexport const logout = (): ThunkType => async (dispatch) => {\r\n    let resultCode = await authAPI.logout();\r\n\r\n    if (resultCode === ResultCodesEnum.Success) {\r\n        dispatch(setUserData(null, null, null, false));\r\n    }\r\n};\r\n\r\nexport const getCaptchaUrl = (): ThunkType => async (dispatch) => {\r\n    let data = await securityAPI.captcha();\r\n\r\n    dispatch(setCaptchaUrl(data.url));\r\n};\r\n\r\n\r\nexport default authReducer;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let'style check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It'style the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, {FC} from 'react';\r\nimport style from './ProjectItem.module.css';\r\nimport {ProjectType} from \"../../../types/types\";\r\n\r\ntype PropsType = {\r\n    project: ProjectType\r\n}\r\n\r\nconst ProjectItem: FC<PropsType> = ({project}) => {\r\n    return (\r\n        <div className={style.item}>\r\n            <div className={style.description}>\r\n                <div>\r\n                    <div>{project.type}</div>\r\n                    <div>{project.technologies}</div>\r\n                </div>\r\n                <div className={style.btn}>\r\n                    <a href={project.link}>View</a>\r\n                </div>\r\n                <h2>{project.name}</h2>\r\n            </div>\r\n            <img src={project.logo} alt={project.name}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProjectItem;","import React, {FC} from 'react';\r\nimport SearchForm from \"../common/Search/Search\";\r\nimport style from './Projects.module.css';\r\nimport ProjectItem from \"./ProjectItem/ProjectItem\";\r\nimport {connect} from \"react-redux\";\r\nimport {ProjectType} from \"../../types/types\";\r\nimport {AppStateType} from \"../../Redux/reduxStore\";\r\n\r\ntype PropsType = {\r\n    projects: Array<ProjectType>\r\n}\r\n\r\nconst Projects: FC<PropsType> = ({projects}) => {\r\n    return (\r\n        <div className={style.container}>\r\n            <SearchForm placeholder={'Search Projects'}/>\r\n            <div className={style.wrapper}>\r\n               <div className={style.projectsList}>\r\n                   {projects.map( item => {\r\n                       return <ProjectItem project={item}/>\r\n                   })}\r\n               </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        projects: state.projects.projects\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(Projects);","import React, {FC} from 'react';\r\nimport style from './Item.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype PropsType = {\r\n    name: string\r\n    icon: string\r\n    href: string\r\n}\r\n\r\nconst Item: FC<PropsType> = (props) => {\r\n    return (\r\n        <li className={style.item}>\r\n            <NavLink to={props.href} activeClassName={style.activeLink} className={style.item_link} ><img src={props.icon} alt=\"icon\"/> {props.name} </NavLink>\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default Item;","import React, {FC} from 'react';\r\nimport style from './Nav.module.css';\r\nimport Item from \"./Item/Item\";\r\n\r\nconst Nav: FC = () => {\r\n    return (\r\n        <nav className={style.nav}>\r\n            <ul className={style.navbar}>\r\n                <Item name='Profile' icon='https://cdn2.iconfinder.com/data/icons/lightly-icons/30/user-480.png'\r\n                      href={`/profile`}/>\r\n                <Item name='Messages' icon='https://cdn0.iconfinder.com/data/icons/40-lined-icons-2/100/23_mail-512.png'\r\n                      href='/messages'/>\r\n                <Item name='People' icon='http://download.seaicons.com/icons/custom-icon-design/silky-line-user/512/users-2-icon.png' href='/people'/>\r\n                <Item name='Projects' icon='https://image.flaticon.com/icons/png/512/25/25402.png' href='/projects'/>\r\n            </ul>\r\n        </nav>\r\n    )\r\n};\r\n\r\nexport default Nav;","import React, {FC} from 'react';\r\nimport style from './ProfileCard.module.css';\r\nimport defaultAvatar from '../../../assets/images/user.png';\r\nimport followersIcon from '../../../assets/images/People.png';\r\n\r\ntype PropsType = {\r\n    avatar: string | null\r\n    login: string | null\r\n}\r\n\r\nconst ProfileCard: FC<PropsType> = ({avatar, login}) => {\r\n    return (\r\n        <div className={style.card}>\r\n            <img className={style.profileAvatar} src={avatar || defaultAvatar} alt=\"avatar\"/>\r\n            <a href='#'>{login}</a>\r\n            <div className={style.followers}><img src={followersIcon} alt=\"followers\"/>1,223 followers</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileCard;","import React, {FC} from 'react';\r\nimport style from './FriendItem.module.css';\r\nimport defaultAvatar from '../../../../assets/images/user.png';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype PropsType = {\r\n    avatar: string | null\r\n    name: string\r\n    id: number\r\n}\r\n\r\nconst FriendItem: FC<PropsType> = (props) => {\r\n    return (\r\n        <div className={`${style.item} ${style.online}`} title={props.name}>\r\n            <NavLink to={`/profile/${props.id}`}>\r\n                <img src={props.avatar || defaultAvatar} alt=\"avatar\"/>\r\n            </NavLink>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FriendItem;","import React, {Component} from 'react';\r\nimport style from './TopFriends.module.css';\r\nimport FriendItem from \"./FriendItem/FriendItem\";\r\nimport {UserType} from \"../../../types/types\";\r\n\r\ntype PropsType = {\r\n    friends: Array<UserType>,\r\n    getFriends: () => void\r\n}\r\n\r\nclass TopFriends extends Component<PropsType> {\r\n    componentDidMount() {\r\n        this.props.getFriends();\r\n    }\r\n\r\n    render() {\r\n        let {friends} = this.props;\r\n\r\n        return (\r\n            <div className={style.container}>\r\n                <div className={style.btn}>\r\n                    <a href=\"#\">My friends</a>\r\n                </div>\r\n                <div className={style.items}>\r\n                    {friends.map(friend => <FriendItem key={friend.id} avatar={friend.photos.small}\r\n                                                       name={friend.name} id={friend.id}/>)}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TopFriends;","import React, {FC} from 'react';\r\nimport style from './Aside.module.css';\r\nimport Nav from \"./Nav/Nav\";\r\nimport ProfileCard from \"./ProfileCard/ProfileCard\";\r\nimport TopFriends from \"./TopFriends/TopFriends\";\r\nimport {UserType} from \"../../types/types\";\r\n\r\ntype PropsType = {\r\n    avatar: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n    friends: Array<UserType>\r\n    getFriends: () => void\r\n}\r\n\r\nconst Aside: FC<PropsType> = ({avatar, login,\r\n                                  isAuth, friends, getFriends}) => {\r\n        return (\r\n            <aside className={style.aside}>\r\n                {isAuth && <ProfileCard avatar={avatar} login={login}/>}\r\n                <Nav/>\r\n                {isAuth && <TopFriends getFriends={getFriends} friends={friends}/>}\r\n            </aside>\r\n        )\r\n};\r\n\r\nexport default Aside;","import {usersAPI} from \"../api/api\";\r\nimport {UserType} from \"../types/types\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStateType} from \"./reduxStore\";\r\n\r\nconst SET_FRIENDS = 'portfolio/aside/SET_FRIENDS';\r\n\r\ntype InitialStateType = {\r\n    friends: Array<UserType>\r\n}\r\n\r\nlet initialState: InitialStateType = {\r\n    friends: []\r\n};\r\n\r\ntype ActionsTypes = SetFriendsActionType;\r\n\r\nconst asideReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_FRIENDS: {\r\n            return {\r\n                ...state,\r\n                friends: [...action.friends]\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\n//actions\r\n\r\ntype SetFriendsActionType = {\r\n    type: typeof SET_FRIENDS,\r\n    friends: Array<any>\r\n}\r\n\r\nconst setFriends = (friends: Array<UserType>): SetFriendsActionType => {\r\n    return {\r\n        type: SET_FRIENDS,\r\n        friends\r\n    }\r\n};\r\n\r\n//thunks\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionsTypes>;\r\n\r\nexport const getFriends = (): ThunkType => async (dispatch) => {\r\n    const response = await usersAPI.getUsers(6, 1);\r\n    const data = await usersAPI.getUsers(6, Math.ceil(response.totalCount / 6) - 1);\r\n\r\n    dispatch(setFriends(data.items));\r\n};\r\n\r\nexport default asideReducer;","import React from 'react';\r\nimport Aside from \"./Aside\";\r\nimport {connect} from \"react-redux\";\r\nimport {getFriends} from \"../../Redux/asideReducer\";\r\nimport {AppStateType} from \"../../Redux/reduxStore\";\r\nimport {UserType} from \"../../types/types\";\r\n\r\ntype MapStatePropsType = {\r\n    friends: Array<UserType>\r\n    isAuth: boolean\r\n    login: string | null\r\n    avatar: string | null\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getFriends: () => void\r\n}\r\n\r\ntype OwnPropsType = any\r\n\r\n\r\nlet mapStateToProps=(state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        friends: state.aside.friends,\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        avatar: state.auth.photos.small\r\n    };\r\n};\r\n\r\nconst AsideContainer = connect<MapStatePropsType, MapDispatchPropsType,OwnPropsType , AppStateType>(mapStateToProps,\r\n    {getFriends})(Aside);\r\n\r\nexport default AsideContainer;","import React, {useState, useEffect, FC} from 'react';\r\nimport style from './ProfileStatus.module.css';\r\n\r\ntype PropsType = {\r\n    isMyProfile: boolean\r\n    status: string\r\n\r\n    updateProfileStatus: (status: string) => void\r\n}\r\n\r\nconst ProfileStatus: FC<PropsType> = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    };\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateProfileStatus(status);\r\n    };\r\n    const onInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.target.value);\r\n    };\r\n\r\n    return (\r\n        <div className={style.status}>\r\n            {editMode && props.isMyProfile ? <input onChange={onInputChange} value={status} onBlur={deactivateEditMode}\r\n                                                    autoFocus={true} type=\"text\"/>\r\n                : <div className={props.isMyProfile ? style.myProfile : ''} onClick={activateEditMode}>\r\n                    {props.status || (props.isMyProfile && ' ')}\r\n                </div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileStatus;","import React, {FC} from 'react';\r\nimport style from '../Profile.module.css';\r\nimport facebook from '../../../assets/images/facebook.png';\r\nimport website from '../../../assets/images/website.png';\r\nimport github from '../../../assets/images/github.png';\r\nimport instagram from '../../../assets/images/instagram.png';\r\nimport mainLink from '../../../assets/images/mainLink.png';\r\nimport twitter from '../../../assets/images/twitter.jpg';\r\nimport vk from '../../../assets/images/vk.png';\r\nimport youtube from '../../../assets/images/youtube.png';\r\nimport contact from '../../../assets/images/contact.png';\r\nimport {ContactsType} from \"../../../types/types\";\r\n\r\ntype PropsType = {\r\n    contacts: ContactsType\r\n}\r\n\r\nconst Contacts: FC<PropsType> = ({contacts}) => {\r\n    let ContactElements = [];\r\n    let Img = null;\r\n    console.log(contacts);\r\n    for (let contact in contacts) {\r\n        switch (contact) {\r\n            case 'facebook':\r\n                Img = <img src={facebook}/>;\r\n                break;\r\n            case 'website':\r\n                Img = <img src={website}/>;\r\n                break;\r\n            case 'github':\r\n                Img = <img src={github}/>;\r\n                break;\r\n            case 'instagram':\r\n                Img = <img src={instagram}/>;\r\n                break;\r\n            case 'mainLink':\r\n                Img = <img src={mainLink}/>;\r\n                break;\r\n            case 'youtube':\r\n                Img = <img src={youtube}/>;\r\n                break;\r\n            case 'vk':\r\n                Img = <img src={vk}/>;\r\n                break;\r\n            case 'twitter':\r\n                Img = <img src={twitter}/>;\r\n                break;\r\n            default:\r\n                alert('sdadsda');\r\n        }\r\n        ContactElements.push(<a key={contact} href={contact}>{Img}</a>)\r\n    }\r\n    return (\r\n        <div className={style.contacts}>\r\n            <h3><img src={contact} alt=\"C\"/>Contacts</h3>\r\n            <div className={style.contactsIcons}>\r\n                {ContactElements}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Contacts;","import React, {FC} from 'react';\r\nimport s from './Post.module.css'\r\nimport {PostType} from \"../../../../types/types\";\r\n\r\ntype PropsType = {\r\n    post: PostType,\r\n    deletePost: (postId: number) => void\r\n    incrementedLike: (postId: number) => void\r\n    avatar: string\r\n    login: string | null\r\n    isMyProfile: boolean\r\n}\r\n\r\nconst Post: FC<PropsType> = ({post, deletePost, incrementedLike,login, avatar,\r\n                                 isMyProfile}) => {\r\n    const onDeletePost = () => {\r\n        deletePost(post.id);\r\n    };\r\n    const onIncrementedLike = () => {\r\n        incrementedLike(post.id);\r\n    };\r\n\r\n    return (\r\n        <div className={s.post}>\r\n            <div className={s.info}>\r\n                <h3>{login}</h3>\r\n                <p>{post.date}</p>\r\n            </div>\r\n            <div className={s.postWraper}>\r\n                <div className={s.avatar}>\r\n                    <img src={avatar} alt=\"avatar\"/>\r\n                </div>\r\n                <div className={s.postContent}>\r\n                    {isMyProfile && <div onClick={onDeletePost} className={s.delete}>&times;</div>}\r\n                    <div className={s.description}>\r\n                        <div>\r\n                            <h3><a href=\"#\">{login}</a></h3>\r\n                            <div className={s.activity}>2 min ago</div>\r\n                        </div>\r\n                        <div className={s.like}>\r\n                            <img onClick={onIncrementedLike} src=\"https://www.rubbishclearancebournemouth.co.uk/img/green-facebook-thumbs-up.png\"\r\n                                 alt=\"like\"/>\r\n                            <span>{post.likeCount}</span>\r\n                        </div>\r\n                    </div>\r\n                    <p className={s.postText}>\r\n                        {post.postText}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default Post;","import React, {FC} from 'react';\r\nimport {Field, reduxForm, InjectedFormProps} from \"redux-form\";\r\nimport {Textarea} from \"../../../common/FormsControls/FormsControls\";\r\nimport {maxLength} from \"../../../../utils/validators\";\r\n\r\nlet maxLength50 = maxLength(50);\r\n\r\ntype FormData = {\r\n    post: string\r\n}\r\n\r\nconst MyPostForm: FC<any & InjectedFormProps<{}, any>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field customClassName={'top'} component={Textarea} validate={[maxLength50]} name={'post'}\r\n                   placeholder='Write what you wish'/>\r\n            <button>Publish</button>\r\n        </form>\r\n    );\r\n};\r\nexport default reduxForm<FormData, {}>({form: 'myPost'})(MyPostForm);","import React, {FC} from 'react';\r\nimport s from './MyPost.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport MyPostForm from \"./MyPostForm/MyPostForm\";\r\nimport defaultAvatar from '../../../assets/images/user.png';\r\nimport {PostType} from \"../../../types/types\";\r\n\r\ntype PropsType = {\r\n    addPost: (post: string) => void\r\n    deletePost: (postId: number) => void\r\n    incrementedLike: (postId: number) => void\r\n    postData: Array<PostType>\r\n    avatar?: string | null\r\n    login: string | null\r\n    isMyProfile: boolean\r\n}\r\n\r\nconst MyPost: FC<PropsType> = React.memo((\r\n    {incrementedLike, deletePost,postData,addPost,avatar, login, isMyProfile}) => {\r\n    let postElements = postData\r\n        .map( (post: PostType) => <Post key={post.id} isMyProfile={isMyProfile}  avatar={avatar || defaultAvatar}\r\n                                        login={login} post={post} incrementedLike={incrementedLike}\r\n                                        deletePost={deletePost}/>);\r\n\r\n    let onSubmit = (formData: any) => {\r\n        addPost(formData.post);\r\n    };\r\n    return (\r\n        <div className={s.container}>\r\n            {isMyProfile && <div className={s.inputField}>\r\n                <img className={s.avatar} src={avatar || defaultAvatar}\r\n                     alt=\"avatar\"/>\r\n                <MyPostForm onSubmit={onSubmit}/>\r\n            </div>}\r\n\r\n            {postElements}\r\n\r\n        </div>\r\n    );\r\n});\r\nexport default MyPost;","import {AppStateType} from \"./reduxStore\";\r\n\r\nexport const getPosts = (state: AppStateType) => {\r\n    return state.profile.postData;\r\n};","import React from 'react';\r\nimport {addPost, deletePost, incrementedLike} from \"../../../Redux/profileReducer\";\r\nimport MyPost from \"./MyPost\";\r\nimport {connect} from \"react-redux\";\r\nimport {getPosts} from \"../../../Redux/profileSelector\";\r\nimport {PostType} from \"../../../types/types\";\r\nimport {AppStateType} from \"../../../Redux/reduxStore\";\r\n\r\ntype MapStatePropsType = {\r\n    postData: Array<PostType>\r\n    avatar?: string | null\r\n    login: string | null\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    addPost: (post: string) => void\r\n    deletePost: (postId: number) => void\r\n    incrementedLike: (postId: number) => void\r\n}\r\n\r\ntype OwnPropsType = {\r\n    isMyProfile: boolean\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        postData: getPosts(state),\r\n        avatar: state.profile.profile ? state.profile.profile.photos.small : null,\r\n        login: state.profile.profile ? state.profile.profile.fullName : null,\r\n\r\n    };\r\n};\r\n\r\nconst MyPostContainer = connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType>(mapStateToProps,\r\n    {addPost, deletePost, incrementedLike})(MyPost);\r\n\r\nexport default MyPostContainer;","import React, {FC} from 'react';\r\nimport style from './ModalWindow.module.css';\r\n\r\ntype PropsType = {\r\n    modalTitle: string\r\n    children: React.ReactElement\r\n    footerDescription?: string\r\n    hideModalWindow: () => void\r\n}\r\n\r\nconst ModalWindow: FC<PropsType> = ({modalTitle, children,footerDescription, hideModalWindow}) => {\r\n    const onModalClose = () => {\r\n        hideModalWindow();\r\n    };\r\n\r\n    return (\r\n        <div className={style.modalOverlay}>\r\n            <div className={style.modalWindow}>\r\n                <div className={style.modalHeader}>\r\n                    {modalTitle}\r\n                    <div onClick={onModalClose} className={style.closeBtn}>&times;</div>\r\n                </div>\r\n                <div className={style.modalBody}>\r\n                    {children}\r\n                </div>\r\n                <div className={style.modalFooter}>\r\n                    {footerDescription}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ModalWindow;","import React, {FC, useState} from 'react';\r\nimport style from \"./Profile.module.css\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport userAvatar from \"../../assets/images/user.png\";\r\nimport ProfileStatus from \"./ProfileStatus/ProfileStatus\";\r\nimport information from \"../../assets/images/Information.png\";\r\nimport edit from \"../../assets/images/edit.png\";\r\nimport work from \"../../assets/images/work.png\";\r\nimport ok from \"../../assets/images/OK.png\";\r\nimport noo from \"../../assets/images/noo.png\";\r\nimport Contacts from \"./Contacts/Contacts\";\r\nimport MyPostContainer from \"./MyPost/MyPostContainer\";\r\nimport ModalWindow from \"../common/ModalWindow/ModalWindow\";\r\nimport {ProfileType} from \"../../types/types\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype PropsType = {\r\n    profile: ProfileType | null\r\n    isUpload: boolean\r\n    userId: number | null\r\n    status: string\r\n    isAuth: boolean\r\n    isMyProfile: any\r\n    followed: boolean\r\n\r\n    uploadProfilePhoto: (photo: any) => void\r\n    startDialogs: (userId: number) => void\r\n    updateProfileStatus: (status: string) => void\r\n}\r\n\r\nconst Profile: FC<PropsType> = ({profile, uploadProfilePhoto, isUpload, startDialogs, ...props}) => {\r\n    let [isModal, setIsModal] = useState(false);\r\n\r\n    const showModalWindow = () => {\r\n        setIsModal(true);\r\n    };\r\n    const hideModalWindow = () => {\r\n        setIsModal(false);\r\n    };\r\n    const onPhotoSelected = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files) {\r\n            uploadProfilePhoto(e.target.files[0]);\r\n            setIsModal(false);\r\n        }\r\n    };\r\n\r\n    const onWriteMessage = () => {\r\n        if (props.userId) {\r\n            startDialogs(props.userId);\r\n        }\r\n    };\r\n\r\n    let modalWindow = (<ModalWindow hideModalWindow={hideModalWindow}\r\n                                    footerDescription={'If you are having trouble downloading, try choosing a smaller photo.'}\r\n                                    modalTitle={'Upload new photo'}>\r\n        <div>\r\n            <div className={style.modalDescription}>\r\n                <div>It will be easier for friends to recognize you if you upload your real photo.</div>\r\n                <div>You can upload a JPG, GIF or PNG image.</div>\r\n            </div>\r\n            <div className={style.inputFile}>\r\n                <input onChange={onPhotoSelected} type='file'/>\r\n            </div>\r\n        </div>\r\n    </ModalWindow>);\r\n\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div>\r\n            {isUpload && <Preloader/>}\r\n            {isModal && modalWindow}\r\n            <div className={style.wrapper}>\r\n                <div className={style.avatar}>\r\n                    <div className={style.avatarContainer}>\r\n                        {props.isMyProfile && <div className={style.avatarMenu}>\r\n                            <p onClick={showModalWindow}>&#9650; <span>Load avatar</span></p>\r\n                        </div>}\r\n                        <img src={profile.photos.large ? profile.photos.large : userAvatar} alt=\"Avatar\"/>\r\n                    </div>\r\n                    <h2>{profile.fullName}</h2>\r\n                    <ProfileStatus isMyProfile={props.isMyProfile}\r\n                                   updateProfileStatus={props.updateProfileStatus} status={props.status}/>\r\n                    {!props.isMyProfile && <div className={style.btn}>\r\n                        <button  onClick={onWriteMessage}>Write message</button>\r\n                    </div>}\r\n                </div>\r\n                <div className={style.info}>\r\n                    <div className={style.personal_information}>\r\n                        <h3><img src={information} alt=\"i\"/>Personal Information</h3>\r\n                        {props.isMyProfile && <div className={style.edit}>\r\n                            <NavLink to='/edit'><img src={edit} alt=\"edit\"/></NavLink>\r\n                        </div>}\r\n                        <p>{profile.aboutMe}</p>\r\n                    </div>\r\n                    <div className={style.work}>\r\n                        <h3><img src={work} alt=\"W\"/> Work Experiences</h3>\r\n                        {profile.lookingForAJob\r\n                            ? <div><p><img src={ok} alt=\"ok\"/>I am looking for work!</p>\r\n                                <p>{profile.lookingForAJobDescription}</p></div>\r\n                            : <p><img src={noo} alt=\"ok\"/>I am not looking for work!</p>\r\n                        }\r\n                    </div>\r\n                    <Contacts contacts={profile.contacts}/>\r\n                </div>\r\n            </div>\r\n            <MyPostContainer isMyProfile={props.isMyProfile}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getProfileStatus,\r\n    getUserProfile,\r\n    updateProfileDataSuccess,\r\n    updateProfileStatus,\r\n    uploadProfilePhoto\r\n} from \"../../Redux/profileReducer\";\r\nimport {Redirect, withRouter, RouteComponentProps} from \"react-router-dom\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {startDialogs} from \"../../Redux/dialogReducer\";\r\nimport {ProfileType} from \"../../types/types\";\r\nimport {AppStateType} from \"../../Redux/reduxStore\";\r\n\r\ntype MapStatePropsType = {\r\n    profile: ProfileType | null\r\n    myId: number | null\r\n    isFetching: boolean\r\n    status: string\r\n    isAuth: boolean\r\n    isUpload: boolean\r\n    followed: boolean\r\n    isUpdateSuccess: boolean\r\n    isSuccess: boolean\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getUserProfile: (userId: number) => void\r\n    getProfileStatus: (userId: number) => void\r\n    updateProfileDataSuccess: (isUpdateSuccess: boolean) => void\r\n    updateProfileStatus: (status: string) => void\r\n    uploadProfilePhoto: (photoFile: any) => void\r\n    startDialogs: (userId: number) => void\r\n}\r\n\r\ntype ParamsType = {\r\n    userId?: string\r\n}\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType & RouteComponentProps<ParamsType>\r\n\r\ntype StateType = {\r\n    isMyProfile: boolean\r\n    userId: number | null\r\n}\r\n\r\nclass ProfileContainer extends React.Component<PropsType, StateType> {\r\n    state = {\r\n        isMyProfile: false,\r\n        userId: this.props.match.params.userId ? +this.props.match.params.userId : this.props.myId\r\n    };\r\n\r\n    toggleIsMyProfile = () => {\r\n        if (this.state.userId === this.props.myId && !this.state.isMyProfile) {\r\n            this.setState({isMyProfile: true});\r\n        }\r\n    };\r\n\r\n    loadProfile = (userId: number) => {\r\n        this.props.getUserProfile(userId);\r\n        this.props.getProfileStatus(userId);\r\n    };\r\n\r\n    componentDidMount() {\r\n        if (!this.state.userId) {\r\n            this.props.history.push('/login');\r\n        }\r\n\r\n        if (this.state.userId) {\r\n            this.loadProfile(this.state.userId);\r\n        }\r\n\r\n        if (this.props.isUpdateSuccess) {\r\n            this.props.updateProfileDataSuccess(false);\r\n        }\r\n    };\r\n\r\n    componentDidUpdate(prevProps: PropsType, prevState: StateType) {\r\n        //load new profile\r\n        if (prevState.userId !== this.state.userId && this.state.userId) {\r\n            this.loadProfile(this.state.userId);\r\n        }\r\n\r\n        //determine whose profile it is\r\n        this.toggleIsMyProfile();\r\n\r\n        // if logout, redirect to login\r\n        if (this.state.isMyProfile && !this.props.isAuth) {\r\n            this.props.history.push('/login');\r\n        }\r\n        //change state if browser address bar changed\r\n        if (prevProps.match.params.userId !== this.props.match.params.userId) {\r\n            this.setState({userId: this.props.match.params.userId ? +this.props.match.params.userId\r\n                    : this.props.myId});\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        if (this.props.isSuccess) {\r\n            return <Redirect to={`/messages/${this.state.userId}`}/>\r\n        } else if (this.props.isFetching) {\r\n            return <Preloader/>\r\n        } else {\r\n            return <Profile uploadProfilePhoto={this.props.uploadProfilePhoto} startDialogs={this.props.startDialogs}\r\n                            updateProfileStatus={this.props.updateProfileStatus} status={this.props.status}\r\n                            isAuth={this.props.isAuth} userId={this.state.userId}\r\n                            isMyProfile={this.state.isMyProfile}\r\n                            profile={this.props.profile} isUpload={this.props.isUpload} followed={this.props.followed}/>\r\n        }\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        profile: state.profile.profile,\r\n        myId: state.auth.userId,\r\n        isFetching: state.app.isFetching,\r\n        status: state.profile.status,\r\n        isAuth: state.auth.isAuth,\r\n        isUpload: state.app.isUpload,\r\n        followed: state.profile.followed,\r\n        isUpdateSuccess: state.profile.isUpdateSuccess,\r\n        isSuccess: state.app.isSuccess\r\n    };\r\n};\r\n\r\nexport default compose(connect<MapStatePropsType, MapDispatchPropsType, unknown, AppStateType>(mapStateToProps, {\r\n        getUserProfile, getProfileStatus, updateProfileDataSuccess,\r\n        updateProfileStatus, uploadProfilePhoto, startDialogs\r\n    }),\r\n    withRouter)(ProfileContainer);","import React, {FC} from 'react';\r\nimport style from './Logo.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Logo: FC = () => {\r\n    return (\r\n        <div className={style.logo}>\r\n            <img src=\"https://www.logogenie.net/download/preview/medium/3589659\" alt=\"Logo\"/>\r\n            <span className={style.logo_name}><NavLink to=\"/\">PortFolio</NavLink></span>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Logo;","import React, {FC} from 'react';\r\nimport style from './Header.module.css'\r\nimport Logo from \"./Logo/Logo\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype PropsType = {\r\n    logout: () => void\r\n    isAuth: boolean\r\n}\r\n\r\nconst Header: FC<PropsType> = ({logout, isAuth}) => {\r\n    let onLogout = (e: React.MouseEvent) => {\r\n        e.preventDefault();\r\n        logout();\r\n    };\r\n\r\n    return (\r\n        <header className={style.header}>\r\n            <div className={style.headerContainer}>\r\n                <Logo/>\r\n                <div className={style.auth}>\r\n                    {isAuth\r\n                        ? <a href='#' onClick={onLogout} className={style.login}>Logout</a>\r\n                        : <NavLink className={style.login} to='/login'>Login</NavLink>}\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../Redux/authReducer\";\r\nimport {AppStateType} from \"../../Redux/reduxStore\";\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    logout: () => void\r\n}\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\nclass HeaderContainer extends React.Component<PropsType> {\r\n render() {\r\n        return (<Header {...this.props}/>);\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n};\r\n\r\nexport default connect<MapStatePropsType, MapDispatchPropsType, unknown, AppStateType>(mapStateToProps,\r\n    {logout})(HeaderContainer);","import {ProjectType} from \"../types/types\";\r\n\r\nconst initialState = {\r\n    projects: [\r\n        {\r\n            name: 'Online store',\r\n            type: 'SPA',\r\n            technologies: 'React/Redux',\r\n            logo: 'https://us.123rf.com/450wm/natalypaint/natalypaint1704/natalypaint170400066/77108225-web-banner-online-store-with-shopping-bags-concept-online-shopping.jpg?ver=6',\r\n            link: 'https://ed-develop.github.io/online-store/'\r\n        },\r\n        {\r\n            name: 'Sports Hold',\r\n            type: 'HTML layout',\r\n            technologies: 'Bootstrap/SCSS',\r\n            logo: 'https://pbs.twimg.com/media/DT-MU2QW4AE3hEO.jpg',\r\n            link: 'https://ed-develop.github.io/sport-hold/'\r\n        }\r\n    ] as Array<ProjectType>\r\n};\r\n\r\ntype InitialStateType = typeof initialState;\r\n\r\nconst projectsReducer = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        default: return state;\r\n    }\r\n};\r\n\r\nexport default projectsReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogReducer from \"./dialogReducer\";\r\nimport asideReducer from \"./asideReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\nimport projectsReducer from \"./projectsReducer\";\r\n\r\nlet rootReducer = combineReducers({\r\n    profile: profileReducer,\r\n    dialogs: dialogReducer,\r\n    aside: asideReducer,\r\n    people: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n    projects: projectsReducer\r\n});\r\n\r\ntype RootReducerType = typeof rootReducer\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n// @ts-ignore\r\nwindow.store = store;\r\n\r\nexport default store;","import Preloader from \"../components/common/Preloader/Preloader\";\r\nimport React, {FC} from \"react\";\r\n\r\nlet withSuspense = (Component: React.ComponentType) => {\r\n    const ContainerComponent: FC = (props) => {\r\n        return (\r\n            <React.Suspense fallback={<Preloader/>}>\r\n                <Component {...props}/>\r\n            </React.Suspense>\r\n        )\r\n    };\r\n\r\n    return ContainerComponent;\r\n};\r\n\r\nexport default withSuspense;","import React, {Component} from 'react';\r\nimport './App.css';\r\nimport {HashRouter, Redirect, Route, Switch} from \"react-router-dom\";\r\nimport Projects from \"./components/Projects/Projects\";\r\nimport AsideContainer from \"./components/Aside/AsideContainer\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport {initializeApp, setGlobalError} from \"./Redux/appReducer\";\r\nimport store from \"./Redux/reduxStore\";\r\nimport withSuspense from \"./hoc/withSuspense\";\r\nimport ModalWindow from \"./components/common/ModalWindow/ModalWindow\";\r\n\r\nconst DialogsContainer = React.lazy(() => import (\"./components/Dialogs/DialogsContainer\"));\r\nconst Login = React.lazy(() => import (\"./components/Login/Login\"));\r\nconst People = React.lazy(() => import (\"./components/People/People\"));\r\nconst Edit = React.lazy(() => import (\"./components/Edit/Edit\"));\r\n\r\n\r\nclass App extends Component {\r\n    catchAllUnhandledErrors = (promiseRejectionEvent) => {\r\n        this.props.setGlobalError(promiseRejectionEvent);\r\n    };\r\n\r\n    hideModalWindow = () => {\r\n        this.props.setGlobalError(null);\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors);\r\n    }\r\n    render() {\r\n\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        const Modal = (<ModalWindow modalTitle='Global Error'\r\n                                    hideModalWindow={this.hideModalWindow}>\r\n            <p>Oops! Some error occurred, please check your Internet connection and try again.</p>\r\n        </ModalWindow>);\r\n\r\n        return (\r\n            <div className=\"app-container\">\r\n                {this.props.globalError && Modal}\r\n                <HeaderContainer/>\r\n                <Switch>\r\n                    <Route path='/login' render={withSuspense(Login)}/>\r\n                    <Route path='/' render={MainApp}/>\r\n                </Switch>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        initialized: state.app.initialized,\r\n        globalError: state.app.globalError\r\n    }\r\n};\r\n\r\nlet AppContainer = connect(mapStateToProps, {initializeApp, setGlobalError})(App);\r\n\r\n\r\nconst MainApp = () => {\r\n    return (\r\n        <main className='app-main'>\r\n            <AsideContainer/>\r\n            <div className='app-content'>\r\n                <Switch>\r\n                    <Route exact path='/' render={() => <Redirect to='/profile'/>}/>\r\n                    <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                    <Route path='/messages/:userId?' render={withSuspense(DialogsContainer)}/>\r\n                    <Route path='/people' render={withSuspense(People)}/>\r\n                    <Route path='/projects' render={() => <Projects/>}/>\r\n                    <Route path='/edit' render={withSuspense(Edit)}/>\r\n                </Switch>\r\n            </div>\r\n        </main>\r\n    )\r\n};\r\n\r\nconst PortfolioApp = () => {\r\n    return (\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <AppContainer/>\r\n            </Provider>\r\n        </HashRouter>\r\n    )\r\n};\r\n\r\nexport default PortfolioApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport PortfolioApp from \"./App\";\n\n\nReactDOM.render(<PortfolioApp/>, document.getElementById('root'));\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControls_error__sRmJU\",\"description\":\"FormsControls_description__19msT\",\"right\":\"FormsControls_right__3wHTe\",\"captcha\":\"FormsControls_captcha__u_wV0\",\"left\":\"FormsControls_left__3xwp0\",\"descriptionTextarea\":\"FormsControls_descriptionTextarea__1Fwbo\",\"top\":\"FormsControls_top__p3WlX\",\"textarea\":\"FormsControls_textarea__1zZx_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalOverlay\":\"ModalWindow_modalOverlay__2eEz_\",\"modalWindow\":\"ModalWindow_modalWindow__1MucD\",\"modalHeader\":\"ModalWindow_modalHeader__29hYm\",\"modalBody\":\"ModalWindow_modalBody__1Z3zy\",\"modalFooter\":\"ModalWindow_modalFooter__1LrM5\",\"closeBtn\":\"ModalWindow_closeBtn__2xETt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3QMW1\",\"headerContainer\":\"Header_headerContainer__thWdQ\",\"auth\":\"Header_auth__3k-NK\",\"login\":\"Header_login__sphas\"};","import {dialogsAPI} from \"../api/api\";\r\nimport {toggleIsFetching, ToggleIsFetchingActionType, toggleIsSuccess, ToggleIsSuccessActionType} from \"./appReducer\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStateType} from \"./reduxStore\";\r\n\r\nconst ADD_MESSAGE = 'portfolio/dialogs/ADD-MESSAGE';\r\nconst SET_DIALOGS = 'portfolio/dialogs/SET_DIALOGS';\r\nconst SET_MESSAGES = 'portfolio/dialogs/SET_MESSAGES';\r\n\r\nlet initialState = {\r\n    dialogs: [] as Array<any>,\r\n    messages: [] as Array<any>\r\n};\r\n\r\ntype InitialStateType = typeof initialState;\r\n\r\ntype ActionsTypes = AddMessageActionType | SetDialogsActionType | SetMessagesActionType;\r\n\r\nconst dialogReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: {\r\n            let newMessage = {\r\n                id: `${state.messages.length ? +state.messages[state.messages.length - 1].id + 1 : 1}`,\r\n                userId: action.userId,\r\n                date: 'a min ago',\r\n                message: action.messageText,\r\n                avatar: null,\r\n                user: action.login\r\n            };\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, newMessage]\r\n            };\r\n        }\r\n        case SET_DIALOGS: {\r\n            return {\r\n                ...state,\r\n                dialogs: [...action.dialogs]\r\n            }\r\n        }\r\n        case SET_MESSAGES: {\r\n            return {\r\n                ...state,\r\n                messages: [...action.messages]\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// actions\r\n\r\ntype AddMessageActionType = {\r\n    type: typeof ADD_MESSAGE,\r\n    messageText: string,\r\n    userId: number,\r\n    login: string\r\n}\r\n\r\nexport const addMessage = (messageText: string, userId: number, login: string): AddMessageActionType => {\r\n    return {type: ADD_MESSAGE, messageText, userId, login}\r\n};\r\n\r\ntype SetDialogsActionType = {\r\n    type: typeof SET_DIALOGS,\r\n    dialogs: Array<any>\r\n}\r\n\r\nexport const setDialogs = (dialogs: Array<any>): SetDialogsActionType => {\r\n    return {\r\n        type: SET_DIALOGS,\r\n        dialogs\r\n    }\r\n};\r\n\r\ntype SetMessagesActionType = {\r\n    type: typeof SET_MESSAGES,\r\n    messages: Array<any>\r\n}\r\n\r\nexport const setMessages = (messages: Array<any>): SetMessagesActionType => {\r\n    return {\r\n        type: SET_MESSAGES,\r\n        messages\r\n    }\r\n};\r\n\r\n// thunks\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionsTypes | ToggleIsFetchingActionType\r\n    | ToggleIsSuccessActionType>;\r\n\r\nexport const startDialogs = (userId: number): ThunkType => async (dispatch) => {\r\n    await dialogsAPI.startDialog(userId);\r\n    dispatch(toggleIsSuccess(true));\r\n};\r\n\r\nexport const getDialogs = (): ThunkType => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    const data = await dialogsAPI.getDialogs();\r\n    dispatch(setDialogs(data));\r\n    dispatch(toggleIsFetching(false));\r\n};\r\n\r\nexport const getMessages = (userId: number): ThunkType => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    await dialogsAPI.getMessages(userId);\r\n    dispatch(toggleIsFetching(false));\r\n};\r\n\r\nexport default dialogReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Projects_container__3X5Pb\",\"wrapper\":\"Projects_wrapper__2nYSw\",\"projectsList\":\"Projects_projectsList__2wXcC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ProjectItem_item__2yVxr\",\"description\":\"ProjectItem_description__2wz81\",\"btn\":\"ProjectItem_btn__2fVlb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Item_item__2j8b9\",\"item_link\":\"Item_item_link__2YTvQ\",\"activeLink\":\"Item_activeLink__2Iotc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ProfileCard_card__CfnW0\",\"profileAvatar\":\"ProfileCard_profileAvatar__1zfjR\",\"followers\":\"ProfileCard_followers__5q3YJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"TopFriends_item__1PMHJ\",\"online\":\"TopFriends_online__4NFGb\",\"items\":\"TopFriends_items__3N6kK\",\"container\":\"TopFriends_container__3eUBs\",\"btn\":\"TopFriends_btn__2NiXC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"MyPost_avatar__3h2vq\",\"inputField\":\"MyPost_inputField__jgln4\",\"container\":\"MyPost_container__3Kh4O\"};","import axios from \"axios\";\r\nimport {ProfileType} from \"../types/types\";\r\nimport {\r\n    UsersResponseType,\r\n    ProfilePhotoResponseType,\r\n    BaseResponseType,\r\n    AuthMeResponseType,\r\n    LoginResponseType,\r\n    CaptchaResponseType\r\n} from \"../types/api-types\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"64c21cc3-b97f-48de-b1a2-ded888ce4466\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(count: number, currentPage: number) {\r\n        return instance.get<UsersResponseType>(`users?count=${count}&page=${currentPage}`).then(response => response.data)\r\n    },\r\n    searchUsers(userName: string) {\r\n        return instance.get<UsersResponseType>(`users?term=${userName}`).then(response => response.data)\r\n    },\r\n    follow(id: number) {\r\n        return instance.post<BaseResponseType<unknown>>(`follow/${id}`).then(response => response.data.resultCode)\r\n    },\r\n    unFollow(id: number) {\r\n        return instance.delete<BaseResponseType<unknown>>(`follow/${id}`).then(response => response.data.resultCode)\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getUserProfile(userId: number) {\r\n        return instance.get<ProfileType>(`profile/${userId}`).then(response => response.data);\r\n    },\r\n    getProfileStatus(userId: number) {\r\n        return instance.get<string>(`profile/status/${userId}`).then(response => response.data);\r\n    },\r\n    updateProfileStatus(status: string) {\r\n        return instance.put<BaseResponseType<unknown>>(`profile/status`, {status}).then(response => response.data.resultCode);\r\n    },\r\n    uploadProfilePhoto(photoFile: any) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n\r\n        return instance.put<BaseResponseType<ProfilePhotoResponseType>>(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(response => response.data.data.photos)\r\n    },\r\n    updateProfileData(profileData: ProfileType) {\r\n        return instance.put<BaseResponseType<ProfileType>>(`profile`, profileData).then(response => response.data)\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    authMe() {\r\n        return instance.get<BaseResponseType<AuthMeResponseType>>('auth/me').then(response => response.data);\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean, captcha: string) {\r\n        return instance.post<LoginResponseType>('auth/login', {email, password, rememberMe, captcha})\r\n            .then(response => response.data);\r\n    },\r\n    logout() {\r\n        return instance.post<BaseResponseType<unknown>>('auth/logout').then(response => response.data.resultCode);\r\n    }\r\n};\r\n\r\n\r\nexport const securityAPI = {\r\n    captcha() {\r\n        return instance.get<CaptchaResponseType>('security/get-captcha-url').then((response => response.data));\r\n    }\r\n};\r\n\r\nexport const dialogsAPI = {\r\n    startDialog(userId: number) {\r\n        return instance.put(`dialogs/${userId}`);\r\n    },\r\n    async getDialogs() {\r\n        const response = await instance.get('dialogs');\r\n        return response.data;\r\n    },\r\n    getMessages(userId: number) {\r\n        return instance.get(`dialogs/${userId}/messages`);\r\n    },\r\n    /*sendMessage (userId, message) {\r\n        return instance.post(`dialogs/${userId}/messages`, {message});\r\n    }*/\r\n};\r\n"],"sourceRoot":""}